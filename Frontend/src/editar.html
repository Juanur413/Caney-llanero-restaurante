<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="icon" href="../utilities/favicon.ico">
    <link rel="stylesheet" href="Css_general.css" type="text/css">
    <link rel="stylesheet" href="editar.css" type="text/css"> 
    <title>Login</title>
</head>
<body>

    
    <div class="containter">
        <header class="navbar-center">

                <div class ="d-inline-flex align-content-center p-0 ml-auto m-1">
                    <a class="header-brand " href="#">
                        <img src="..\utilities\caney-Logo.png" alt="logo" class="logo" width="60" height="60" class="justify-content-start">
                    </a>
                </div>
                <div class="d-in justify-content-start p-0 align-self-center mx-auto m-1 ">
                    <a class="header-brand ">Bienvenidos al Caney Llanero</a>
                </div>
                <div class ="d-inline-flex align-content-center p-0 mr-auto m-1 invisible">
                    <a class="header-brand " href="#">
                        <img width="60" height="60" >
                    </a>
                </div>
    </header>
    </div>

    <section class="login">
        <div class ="form-container">
            <form action="/" class="subtitle border-2 rounded-top border border-dark " style="margin-bottom: 0.5px;">
                <div class="login-h1">
                    <h1>Editar producto </h1>
                </div>
            </form>
            <form id="editarProducto" action="/" class="form border-2 rounded-bottom border border-dark ">
                <label for="id_Producto" form="editarProducto" class="id_Producto" id="id_Producto">Producto
                <input disabled type="text" id="id producto" placeholder="Id producto" class="input input-id-prodcuto" value="" ></label>
                
                <br>
                <label for="nombre" class="nombre">Nombre</label>
                <input type="text" id="nombre" placeholder="nombre" class="input input-nombre">
                
                <br>
                <label for="id_Tipo_producto" class="id_Tipo_producto">Tipo producto</label>
                <!-- Cambiar boton screen-roll -->
                <div class="btn-group" role="group">
                    <button type="button" id="id_Tipo_producto" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Dropdown
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Dropdown link</a></li>
                        <li><a class="dropdown-item" href="#">Dropdown link</a></li>
                    </ul>
                </div>
                <br>
                <label for="precio" class="precio">Precio
                <input type="text" id="precio" placeholder="precio" class="input input-precio"></label>
                <br>
                <label for="image" class="imagen">Imagen
                <input type="text" id="imagen" placeholder="imagen" class="input input-imagen"></label>
                <br>
                <label for="descripcion" class="descripcion">Descripci√≥n
                <input type="text" id="descripcion" placeholder="descripcion" class="input input-descripcion"></label>
                <br>
                <label for="id_Documento" class="id_Documento">Documento
                <input type="text" id="id_Documento" placeholder="Id documento" class="input input-id-Documento"> </label>
                <br>
                <!-- <label for="visible" class="visible" from="editarProducto" >
                <button class="btn btn-outline-light btn-light visible-button" type="submit">Visible</button></label> -->
                <div class="form-group form-check">
                    <label for="visible" class="visible" from="editarProducto" >
                    <input type="checkbox" class="form-check-label" for="visible" >Visible</button></label>
                </div>
                <button class="btn btn-outline-danger btn-danger secondary-button" type="submit">Guardar</button>
                
            </form>
    </div>
</section>

<script>
    async function fetchAsync (url,idNum) {
        let response = await fetch(url);
        let data = await response.json();
        for (x in data){
            let plato = data[x];
            if (plato["id_Producto"] ==  idNum){
                document.getElementById("nombre").setAttribute("value", plato["nombre"]);
                document.getElementById("precio").setAttribute("value", plato["precio"]);
                document.getElementById("imagen").setAttribute("value", plato["imagen"]);
                document.getElementById("descripcion").setAttribute("value", plato["descripcion"]);
                document.getElementById("id_Documento").setAttribute("value", plato["id_Documento"]);
                document.getElementById("id_Tipo_producto").setAttribute("value", plato["Tipo_producto"]);
                document.getElementById("descripcion").setAttribute("value", plato["descripcion"]);
                return plato;
            }
         }//return alert("producto no encontrado");
        
    }
    var url_string = window.location;
    var url = new URL(url_string);
    var idNum = url.searchParams.get("id");
    fetchAsync('http://localhost:9090/api/producto', idNum).then(data =>{console.log(JSON.stringify(data))});
    document.getElementById("id producto").setAttribute("value", idNum);
</script>
</body>
</html>